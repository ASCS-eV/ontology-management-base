@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix ex: <http://example.org/ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Failure Model: packageLoss
ex:PackageLossShape
    a sh:NodeShape ;
    sh:targetClass ex:PackageLoss ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; 
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; 
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure";    
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences" ;
    ] .

# Failure Model: packageDelay
ex:PackageDelayShape
    a sh:NodeShape ;
    sh:targetClass ex:PackageDelay ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ; 
        sh:minInclusive 0 ; 
        sh:description "Interval of re-occurrence in seconds" ;
    ] ;
    sh:property [
        sh:path ex:DelaySize ;
        sh:datatype xsd:integer ;
        sh:minCount 0 ; 
        sh:maxCount 1 ;
        sh:minCount 0 ;
        sh:maxInclusive 100 ;
        sh:description "Occupancy of the ringbuffer at start of the simulation" ;
    ] ;
    sh:property [
        sh:path ex:DegradationSize ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Amount of packages that are delayed" ;
    ] ;
    sh:property [
        sh:path ex:RingBufferMaxUseSize ;
        sh:datatype xsd:integer ;
        sh:minCount 0 ; # if not defined, default value (100) is used
        sh:maxCount 1 ;
        sh:minInclusive 1 ;
        sh:maxInclusive 100 ;
        sh:description "Amount of raw data packages that fit into the ringbuffer before it overflows and causes package loss" ;
    ] .


# Failure Model: detectionPointShift -> Shift of single detection points for simulating vibration effects
ex:DetectionPointShift
    a sh:NodeShape ;
    sh:targetClass ex:DetectionPointShift ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; 
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; 
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure";
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences";
    ] ;
    sh:property [
        sh:path ex:MaxDepthDisturbance ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Maximal shifting distance between the sensor and detection point" ;
    ] ;
    sh:property [
        sh:path ex:MaxAzimuthDisturbance;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Maximal shifting Azimuth between the sensor and detection point" ;
    ] ;
    sh:property [
        sh:path ex:MaxAltitudeDisturbance ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Maximal shifting Altitude between the sensor and detection point" ;
    ] ;
    sh:property [
        sh:path ex:Distribution ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # Enum values for distribution (0 - nothing, 1 - Weibull, 2 - linear)
        sh:minInclusive 2 ;
        sh:description "Kind of distrbution used to calculate the detection point shift" ;
    ] .


# Failure Model: velocityPointShift
ex:VelocityPointShift
    a sh:NodeShape ;
    sh:targetClass ex:VelocityPointShift ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure" ;
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:MaxVelocityDisturbance ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Maximal shift/change of the velocity" ;
    sh:property [
        sh:path ex:Distribution ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # Enum values for distribution (0 - nothing, 1 - Weibull, 2 - linear)
        sh:minInclusive 2 ;
        sh:description "Kind of distrbution used to calculate the velocity shift" ;
    ] .

# Failure Model: rangeReduction
ex:RangeReduction
    a sh:NodeShape ;
    sh:targetClass ex:RangeReduction ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure" ;
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:RangeReductionValue;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Distance of the range reduction in meters" ;
    ] .

# Failure Model: detectNonExistingPoints
ex:DetectNonExistingPoints
    a sh:NodeShape ;
    sh:targetClass ex:DetectNonExistingPoints ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure" ;
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:AmountDetections ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Amount of non-existant points that shall be spawned" ;
    ] ;
    sh:property [
        sh:path ex:HorFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - left, 1 - everywhere in horizontal FOV, 2 - right
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the ghost points are spawned (horizontal)" ;
    ] ;
    sh:property [
        sh:path ex:VertFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - bottom, 1 - everywhere in vertical FOV, 2 - top
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the ghost points are spawned (vertical)";
    ] .


# Failure Model: sensorShift due to collision
ex:CollisionSensorShift
    a sh:NodeShape ;
    sh:targetClass ex:CollisionSensorShift ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Yaw ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Yaw rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:Pitch ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Pitch rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:Roll ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Roll rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:ShiftTriggerFlag ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 1;
        sh:maxInclusive 1;
        sh:description "If true, the shift will happen at the first collision" ;
    ] .

# Failure Model: sensorShift due to degradation (constantly shifting)
ex:ConstantSensorShift
    a sh:NodeShape ;
    sh:targetClass ex:ConstantSensorShift ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Duration ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Time the failure is active in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure";
    ] ;
    sh:property [
        sh:path ex:DurationDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:description "Change/worsening (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:Yaw ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Yaw rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:Pitch ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Pitch rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:Roll ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "Roll rotation of the shift" ;
    ] ;
    sh:property [
        sh:path ex:ShiftFlag ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0;
        sh:maxInclusive 1;
        sh:description "If true, the shift occurs once at the beginning of the failur event, otherwise a constant shift is simulated" ;
    ] ;
    sh:property [
        sh:path ex:ShiftTriggerFlag ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0;
        sh:maxInclusive 0;
        sh:description "If true, the shift will happen at the first collision" ;
    ] .


# Failure Model: sensorBlockageRandomLifetime
ex:SensorBlockageRandomLifetime
    a sh:NodeShape ;
    sh:targetClass ex:SensorBlockageRandomLifetime ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure" ;
    ] ;
    sh:property [
        sh:path ex:AmountOfBlockingObjects ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Change (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:Type ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "If true, blockage points are spawend in the entire FOV of the sensor. Otherwise in 1m distance to the sensor" ;
    ] ;
    sh:property [
        sh:path ex:LifeTime ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 1;
        sh:maxInclusive 1;
        sh:description "If true, the blocking object will have a random lifetime, otherwise the lifetime has to be defined" ;
    ] ;
    sh:property [
        sh:path ex:MaxBlockingObjectLifeTime;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Maximum lifetime of the blocking object(s) in seconds" ;
    ] ;
    sh:property [
        sh:path ex:BlockageDropSpeed;
        sh:datatype xsd:integer ;
        sh:minCount 0 ; # default is 0 
        sh:maxCount 1 ;
        sh:description "Fall speed of the blocking object (e.g. to simulate dirt falling off the lense)" ;
    ] ;
    sh:property [
        sh:path ex:HorFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - left, 1 - everywhere in horizontal FOV, 2 - right
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the blocking objects are spawned (horizontal)" ;
    ] ;
    sh:property [
        sh:path ex:VertFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - bottom, 1 - everywhere in vertical FOV, 2 - top
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the blocking objects are spawned (vertical)";
    ] .


    # Failure Model: sensorBlockageDefinedLifetime
ex:SensorBlockageDefinedLifetime
    a sh:NodeShape ;
    sh:targetClass ex:SensorBlockageDefinedLifetime ;
    sh:property [
        sh:path ex:Start ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ; # minimal value is 0 corresponding to start of the simulation
        sh:description "Start of the failure in the simulation in seconds" ;
    ] ;
    sh:property [
        sh:path ex:Interval ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Interval of re-occurrence of the failure in seconds" ;
    ] ;
    sh:property [
        sh:path ex:IntervalDegradation ;
        sh:datatype xsd:float ;
        sh:minCount 0 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Change/worsening (decrease) of the time of re-occurrence of the failure" ;
    ] ;
    sh:property [
        sh:path ex:AmountOfBlockingObjects ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:description "Change (decrease) of the duration between failure ocurrences" ;
    ] ;
    sh:property [
        sh:path ex:Type ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:description "If true, blockage points are spawend in the entire FOV of the sensor. Otherwise in 1m distance to the sensor" ;
    ] ;
    sh:property [
        sh:path ex:LifeTime ;
        sh:datatype xsd:boolean ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0 ;
        sh:maxInclusive 0 ;
        sh:description "If true, the blocking object will have a random lifetime, otherwise the lifetime has to be defined" ;
    ] ;
    sh:property [
        sh:path ex:BlockingObjectLifeTime ;
        sh:datatype xsd:float ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 
        sh:description "Lifetime of each blocking object in seconds" ;
    ] ;
    sh:property [
        sh:path ex:BlockageDropSpeed;
        sh:datatype xsd:integer ;
        sh:minCount 0 ; # default is 0
        sh:maxCount 1 ;
        sh:description "Fall speed of the blocking object (e.g. to simulate dirt falling off the lense)" ;
    ] ;
    sh:property [
        sh:path ex:HorFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - left, 1 - everywhere in horizontal FOV, 2 - right
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the blocking objects are spawned (horizontal)" ;
    ] ;
    sh:property [
        sh:path ex:VertFOVFlag ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:minInclusive 0; # 0 - bottom, 1 - everywhere in vertical FOV, 2 - top
        sh:maxInclusive 2;
        sh:description "Flag to indicate where the blocking objects are spawned (vertical)";
    ] .