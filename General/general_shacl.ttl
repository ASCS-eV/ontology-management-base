@prefix general: <https://github.com/GAIA-X4PLC-AAD/ontology-management-base/tree/main/general/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

general:GeneralShape a sh:NodeShape ;
    sh:property [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:LicenceShape ;
            sh:order 5 ;
            sh:path general:Licence ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:DescriptionShape ;
            sh:order 0 ;
            sh:path general:Description ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:VendorShape ;
            sh:order 2 ;
            sh:path general:Vendor ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:PriceShape ;
            sh:order 6 ;
            sh:path general:Price ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:FormatShape ;
            sh:order 1 ;
            sh:path general:Format ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:PositionShape ;
            sh:order 3 ;
            sh:path general:Position ],
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:LinksShape ;
            sh:order 4 ;
            sh:path general:Links ] ;
    sh:targetClass general:General .

general:BoundingBoxShape a sh:NodeShape ;
    sh:property [ sh:datatype xsd:float ;
            sh:message "Validation of xMin failed!"@en ;
            sh:name "xMin"@en ;
            sh:order 0 ;
            sh:path general:xMin ],
        [ sh:datatype xsd:float ;
            sh:message "Validation of xMax failed!"@en ;
            sh:name "xMax"@en ;
            sh:order 2 ;
            sh:path general:xMax ],
        [ sh:datatype xsd:float ;
            sh:message "Validation of yMax failed!"@en ;
            sh:name "yMax"@en ;
            sh:order 3 ;
            sh:path general:yMax ],
        [ sh:datatype xsd:float ;
            sh:message "Validation of yMin failed!"@en ;
            sh:name "yMin"@en ;
            sh:order 1 ;
            sh:path general:yMin ] ;
    sh:targetClass general:BoundingBox .

general:DescriptionShape a sh:NodeShape ;
    sh:property [ skos:example "town district, with traffic signs" ;
            sh:datatype xsd:string ;
            sh:description "Which category they belong to, which special characteristics, features"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of descriptionByVendor failed!"@en ;
            sh:name "descriptionByVendor"@en ;
            sh:order 1 ;
            sh:path general:descriptionByVendor ],
        [ skos:example "3D Model in Grafing" ;
            sh:datatype xsd:string ;
            sh:description "Name of data asset"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of name failed!"@en ;
            sh:name "name"@en ;
            sh:order 0 ;
            sh:path general:name ] ;
    sh:targetClass general:Description .

general:FormatShape a sh:NodeShape ;
    sh:property [ skos:example "1.5" ;
            sh:datatype xsd:string ;
            sh:description "Version of data format"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of version failed!"@en ;
            sh:name "version"@en ;
            sh:order 1 ;
            sh:path general:version ],
        [ skos:example "ASAM OpenDRIVE / ASAM OpenSCENARIO / Road5 / Here Live Map / Lanelet / DLM / road2sim / roadXML  / Shape" ;
            sh:datatype xsd:string ;
            sh:description "Format type definition"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of type failed!"@en ;
            sh:name "type"@en ;
            sh:order 0 ;
            sh:path general:type ] ;
    sh:targetClass general:Format .

general:LicenceShape a sh:NodeShape ;
    sh:property [ skos:example "link to licence" ;
            sh:datatype xsd:anyURI ;
            sh:description "Reference to licence"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of link failed!"@en ;
            sh:name "link"@en ;
            sh:order 1 ;
            sh:path general:link ],
        [ skos:example "MIT" ;
            sh:datatype xsd:string ;
            sh:description "Name of licence type"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of type failed!"@en ;
            sh:name "type"@en ;
            sh:order 0 ;
            sh:path general:type ] ;
    sh:targetClass general:Licence .

general:LinksShape a sh:NodeShape ;
    sh:property [ skos:example "link to screenshot, video, routing" ;
            sh:description "Reference to screenshot data"@en ;
            sh:message "Validation of media failed!"@en ;
            sh:name "media"@en ;
            sh:node general:LinkShape ;
            sh:order 2 ;
            sh:path general:media ],
        [ skos:example "???" ;
            sh:datatype xsd:string ;
            sh:description "contract id -> is generated/assigned later via the EDC"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of contractID failed!"@en ;
            sh:name "contractID"@en ;
            sh:order 3 ;
            sh:path general:contractID ],
        [ skos:example "link to CRG" ;
            sh:description "Reference to dependent data"@en ;
            sh:message "Validation of data failed!"@en ;
            sh:minCount 0 ;
            sh:name "data"@en ;
            sh:node general:LinkShape ;
            sh:order 1 ;
            sh:path general:data ],
        [ skos:example "link to asset data, e.g. hd map" ;
            sh:datatype xsd:anyURI ;
            sh:description "Id / url to asset file"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of asset failed!"@en ;
            sh:name "asset"@en ;
            sh:order 0 ;
            sh:path general:asset ] ;
    sh:targetClass general:Links .

general:PositionShape a sh:NodeShape ;
    sh:property [ skos:example "Lat: 1.234- 1.345; Lon 45.23-45.34" ;
            sh:description "Bounding box with lat/lon values in WGS84"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of bounding failed!"@en ;
            sh:name "bounding"@en ;
            sh:node general:BoundingBoxShape ;
            sh:order 1 ;
            sh:path general:bounding ],
        [ skos:example "Germany, GER" ;
            sh:datatype xsd:string ;
            sh:description "Country code as ISO 3166-1, alpha-2; "@en ;
            sh:maxCount 1 ;
            sh:message "Validation of country failed!"@en ;
            sh:name "country"@en ;
            sh:order 0 ;
            sh:path general:country ;
            sh:pattern "^[a-zA-Z]{2}-(?:[a-zA-Z]{1,3}|[0-9]{1,3})$" ] ;
    sh:targetClass general:Position .

general:PriceShape a sh:NodeShape ;
    sh:property [ skos:example "1000" ;
            sh:datatype xsd:float ;
            sh:description "Price in euros"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of price failed!"@en ;
            sh:minCount 0 ;
            sh:name "price"@en ;
            sh:order 0 ;
            sh:path general:price ] ;
    sh:targetClass general:Price .

general:VendorShape a sh:NodeShape ;
    sh:property [ skos:example "2022-10-01 00:00:00" ;
            sh:datatype xsd:dateTime ;
            sh:description "Creation date"@en ;
            sh:maxCount 1 ;
            sh:message "Validation of creationDate failed!"@en ;
            sh:name "creationDate"@en ;
            sh:order 0 ;
            sh:path general:creationDate ] ;
    sh:targetClass general:Vendor .

general:LinkShape a sh:NodeShape ;
    sh:property [ sh:datatype xsd:string ;
            sh:in ("Document" "Image" "Model" "Routing" "Video") ;
            sh:message "Validation of type failed!"@en ;
            sh:name "type"@en ;
            sh:order 1 ;
            sh:path general:type ],
        [ sh:datatype xsd:anyURI ;
            sh:message "Validation of url failed!"@en ;
            sh:name "url"@en ;
            sh:order 0 ;
            sh:path general:url ] ;
    sh:targetClass general:Link .

